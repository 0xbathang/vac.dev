<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>Introducing nwaku</title><meta name="viewport" content="initial-scale=1.0, width=device-width"/><meta name="description" content="Introducing nwaku, a Nim-based Waku v2 client, including a summary of recent developments and preview of current and future focus areas."/><link rel="shortcut icon" href="/assets/logo/vac/favicon.ico"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="vacp2p"/><meta name="twitter:site" content="@vacp2p"/><meta name="twitter:title" content="Introducing nwaku"/><meta name="twitter:description" content="Introducing nwaku, a Nim-based Waku v2 client, including a summary of recent developments and preview of current and future focus areas."/><meta name="twitter:image" content="https://staging.vac.dev/compiled-assets/img/vac.png"/><meta property="og:url" content="https://staging.vac.dev//introducing-nwaku"/><meta property="og:image" content="https://staging.vac.dev/compiled-assets/img/vac.png"/><meta property="og:site_name" content="Introducing nwaku"/><meta property="og:title" content="Introducing nwaku"/><meta property="og:description" content="Introducing nwaku, a Nim-based Waku v2 client, including a summary of recent developments and preview of current and future focus areas."/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/e068b41030ceede6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e068b41030ceede6.css" data-n-g=""/><link rel="preload" href="/_next/static/css/cdd95df0746869ac.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cdd95df0746869ac.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-a14325fd952bf0eb.js" defer=""></script><script src="/_next/static/chunks/framework-fc97f3f1282ce3ed.js" defer=""></script><script src="/_next/static/chunks/main-ada0258e433ba222.js" defer=""></script><script src="/_next/static/chunks/pages/_app-aa43738908a89379.js" defer=""></script><script src="/_next/static/chunks/eb1842f2-90eb16656390ba2a.js" defer=""></script><script src="/_next/static/chunks/399-b4b9981c243e7c94.js" defer=""></script><script src="/_next/static/chunks/22-651cfaa0b9f0d072.js" defer=""></script><script src="/_next/static/chunks/pages/%5B%5B...path%5D%5D-e5cc32395b198f36.js" defer=""></script><script src="/_next/static/ulkdS6VOmlR0pndRpqll2/_buildManifest.js" defer=""></script><script src="/_next/static/ulkdS6VOmlR0pndRpqll2/_ssgManifest.js" defer=""></script><script src="/_next/static/ulkdS6VOmlR0pndRpqll2/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><svg width="0" height="0" xmlns="http://www.w3.org/2000/svg" style="display:none"><defs><filter id="colored"><feColorMatrix type="matrix" values="1.00 0 0 0 0 0 1.00 0 0 0 0 0 1.00 0 0 0 0 0 1 0"></feColorMatrix></filter></defs></svg><style nonce="logos">
      #nprogress {
        pointer-events: none;
      }
      #nprogress .bar {
        background: #000000;
        position: fixed;
        z-index: 9999;
        top: 0;
        left: 0;
        width: 100%;
        height: 3px;
      }
      #nprogress .peg {
        display: block;
        position: absolute;
        right: 0px;
        width: 100px;
        height: 100%;
        box-shadow: 0 0 10px #000000, 0 0 5px #000000;
        opacity: 1;
        -webkit-transform: rotate(3deg) translate(0px, -4px);
        -ms-transform: rotate(3deg) translate(0px, -4px);
        transform: rotate(3deg) translate(0px, -4px);
      }
      #nprogress .spinner {
        display: block;
        position: fixed;
        z-index: 1031;
        top: 15px;
        right: 15px;
      }
      #nprogress .spinner-icon {
        width: 18px;
        height: 18px;
        box-sizing: border-box;
        border: solid 2px transparent;
        border-top-color: #000000;
        border-left-color: #000000;
        border-radius: 50%;
        -webkit-animation: nprogresss-spinner 400ms linear infinite;
        animation: nprogress-spinner 400ms linear infinite;
      }
      .nprogress-custom-parent {
        overflow: hidden;
        position: relative;
      }
      .nprogress-custom-parent #nprogress .spinner,
      .nprogress-custom-parent #nprogress .bar {
        position: absolute;
      }
      @-webkit-keyframes nprogress-spinner {
        0% {
          -webkit-transform: rotate(0deg);
        }
        100% {
          -webkit-transform: rotate(360deg);
        }
      }
      @keyframes nprogress-spinner {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style><div class="Style_container__qv2Yk Styles_common_container__u_XHj template-container"><header class="Styles_container__5FUI_ Style_header__IYvBP undefined"><div class="Styles_innerWrapper__ZInvp"><div class="logo-holder button vac" style="display:inline-block"><svg width="45" height="43" viewBox="0 0 35 43" fill="none" xmlns="http://www.w3.org/2000/svg" class="vac-logo"><g clip-path="url(#clip0_917_3082)"><path d="M24.9034 14.8217C24.6824 11.2666 23.5308 7.8298 21.5623 4.84994C22.543 4.19721 23.7374 3.93844 24.9034 4.12603C25.492 4.23064 26.0472 4.4722 26.5233 4.83086C26.9994 5.18951 27.3828 5.65504 27.6421 6.18916C28.0141 7.1512 28.1335 8.19117 27.989 9.21147C27.9754 9.6728 27.8955 10.1299 27.7516 10.5688C27.6613 10.8504 27.5322 11.1183 27.3682 11.3651C27.166 11.69 26.9466 12.0041 26.7109 12.3062C26.1084 13.1206 25.5607 14.0073 24.9034 14.8217Z" fill="#999999"></path><path d="M16.7058 7.58268C15.8382 5.99003 14.5344 4.67263 12.9447 3.78217L10.9546 2.69631C10.9546 2.69631 13.2551 -0.778436 16.1945 0.162641C19.134 1.10372 18.1846 7.4017 17.5821 9.80869" fill="#4D4D4D"></path><path d="M20.3209 41.6243C17.4179 40.4118 16.2129 38.3668 14.6975 36.919C13.1821 35.4711 12.8717 29.3903 13.1638 24.6126C13.456 19.8348 17.4909 11.528 17.5822 9.80869C17.6735 8.08941 15.4643 5.17569 13.5655 3.78217C11.6491 2.2631 9.29769 1.38272 6.84668 1.2666L8.36207 2.51534C9.74965 3.67359 9.42101 3.98125 9.22018 6.26155C9.01935 8.54185 8.72722 15.6904 8.70896 21.8436C8.70896 30.3495 6.73713 32.7022 13.0178 38.8373C14.1564 40.1358 15.6863 41.0368 17.3814 41.4072C21.6902 43.036 24.228 43.2712 20.3209 41.6243Z" fill="#1A1A1A"></path><path d="M17.9839 7.07618C17.5904 9.58823 16.8212 12.0281 15.7016 14.3152C14.6765 16.6746 13.7925 19.0918 13.0543 21.5543C12.076 25.3846 11.8405 29.3642 12.3605 33.2816C12.4325 34.6426 12.8065 35.9712 13.4559 37.1726C14.1362 38.1272 14.9759 38.9596 15.939 39.6338C17.8321 41.3312 20.1651 42.4718 22.6761 42.9276C20.068 40.8547 18.189 38.0165 17.3083 34.8199C16.3002 31.5246 16.6412 27.9684 18.2577 24.9205C18.7142 24.0699 19.2436 23.2555 19.7731 22.4411L24.4653 15.3287C24.7022 15.0187 24.8815 14.6694 24.9948 14.2971C25.0769 13.891 25.0769 13.4727 24.9948 13.0665C24.3347 9.48034 22.792 6.11109 20.5034 3.25758C19.9266 2.35717 19.1529 1.59688 18.2395 1.033C17.3262 0.46911 16.2966 0.116066 15.2269 0C15.7121 0.03052 16.1783 0.198543 16.5699 0.484084C16.9616 0.769625 17.2622 1.16066 17.4361 1.61069C17.8159 2.51034 18.0085 3.47679 18.0021 4.45202C18.0507 5.32627 18.0446 6.20267 17.9839 7.07618Z" fill="#808080"></path><path d="M34.927 21.7174C34.8742 21.5895 34.8068 21.4681 34.7261 21.3554C34.5725 21.0145 34.3893 20.6875 34.1784 20.3781C34.0141 20.1429 33.8315 19.9257 33.6489 19.7085C33.2107 19.1294 33.0829 18.3874 32.5352 17.8988C32.2726 17.6504 32.0907 17.33 32.0126 16.9787C31.9346 16.6273 31.964 16.2609 32.097 15.9261C32.2066 15.6366 32.4074 15.4013 32.5352 15.1298C32.6706 14.7258 32.7195 14.2982 32.6786 13.8744C32.6378 13.4505 32.5081 13.0398 32.2979 12.6685C31.7956 11.6016 31.1838 10.5888 30.4721 9.64624C29.5227 8.32511 28.5185 7.05828 27.4596 5.82764C27.6672 6.89431 27.6423 7.99266 27.3865 9.04902C27.2386 9.62495 27.0432 10.1879 26.8023 10.7321C26.4264 11.4007 26.0118 12.0473 25.5608 12.6685C23.2238 16.2881 20.832 19.9076 18.349 23.4004C17.0435 25.5573 16.3321 28.0161 16.2859 30.5309C16.0848 32.9993 16.618 35.472 17.8195 37.6433C18.5687 38.8742 19.4502 40.021 20.4486 41.0637C21.0694 41.7334 21.7814 42.8735 22.6395 43.0726C22.7491 42.041 22.9499 40.6475 23.096 39.6159C23.3338 37.934 23.8782 36.3089 24.7027 34.8201C25.1895 33.7601 26.0543 32.9158 27.1309 32.4493C27.9135 32.2862 28.7218 32.2862 29.5044 32.4493C29.9422 32.4221 30.3812 32.4221 30.819 32.4493C31.2686 32.4735 31.7149 32.3597 32.097 32.1235C32.3186 31.968 32.5024 31.7655 32.6351 31.5307C32.7677 31.2959 32.8459 31.0347 32.8638 30.7662C32.9186 30.2791 32.9186 29.7874 32.8638 29.3003C32.8245 28.9868 32.8685 28.6686 32.9916 28.3773C33.2473 27.8525 34.0141 27.6172 34.0689 27.02C34.0476 26.7523 33.9665 26.4927 33.8315 26.2599C33.7604 26.1456 33.7228 26.014 33.7228 25.8798C33.7228 25.7456 33.7604 25.614 33.8315 25.4998C33.8315 25.4998 34.0506 25.355 34.1236 25.2464C34.2051 25.1396 34.2492 25.0093 34.2492 24.8754C34.2492 24.7415 34.2051 24.6112 34.1236 24.5044C33.9428 24.2955 33.8006 24.0566 33.7037 23.7986C33.695 23.6656 33.715 23.5323 33.7622 23.4075C33.8094 23.2827 33.8828 23.1692 33.9776 23.0747C34.1732 22.888 34.3945 22.7295 34.6348 22.6041C34.7511 22.5516 34.8541 22.4739 34.9362 22.3769C35.0183 22.2798 35.0776 22.1658 35.1095 22.0431C35.0688 21.9246 35.0069 21.8143 34.927 21.7174Z" fill="#CCCCCC"></path><path d="M34.3062 20.5771C34.478 20.8248 34.619 21.0922 34.7261 21.3734C34.8037 21.4816 34.8709 21.5967 34.9269 21.7173L34.3062 20.5771Z" fill="#CCCCCC"></path><path d="M10.133 33.4262C9.0523 28.5693 8.7138 23.5789 9.12886 18.6223C9.12886 16.1429 11.265 2.44302 7.79605 1.41145C4.85656 0.524668 2.53783 3.94512 2.53783 3.94512C0.667683 7.68216 -0.206002 11.8316 1.36513e-05 15.9982C2.30048 38.8193 17.6735 41.4615 18.2577 41.7149C18.2577 41.7149 11.4476 39.2898 10.133 33.4262Z" fill="#09212A"></path></g><defs><clipPath id="clip0_917_3082"><rect width="35" height="43"></rect></clipPath></defs></svg></div><div class="Styles_searchBox__5X2m1"><div class="Styles_container__ddCFx "><div class="logos-search-box Styles_searchBox__xWHyX"><div><input type="text" placeholder="Search Vac Research" value=""/></div></div></div></div></div></header><div class="page-info"><h1 style="display:none">Vac Research</h1><div class="page-info-sub"><i>Apr 03 2023</i><br/><span>staging.vac.dev</span></div></div><main class="undefined Styles_common_main__4v7gP Styles_common_main__4v7gP"><aside class="Styles_container__3yUcn Style_sidebar__mLS5A Styles_common_sidebar__QAVov hidden-scroll Styles_hideDesktopToggleButton__L_Rik"><div class="sidebar-toggle-button button Styles_mobile___qAwf"><svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 4h14c.55 0 1-.45 1-1s-.45-1-1-1H1c-.55 0-1 .45-1 1s.45 1 1 1Zm14 8H1c-.55 0-1 .45-1 1s.45 1 1 1h14c.55 0 1-.45 1-1s-.45-1-1-1Zm0-5H1c-.55 0-1 .45-1 1s.45 1 1 1h14c.55 0 1-.45 1-1s-.45-1-1-1Z" fill="#F2F2F2"></path></svg></div><div class="logo-holder button vac" style="display:inline-block"><svg width="45" height="43" viewBox="0 0 35 43" fill="none" xmlns="http://www.w3.org/2000/svg" class="vac-logo"><g clip-path="url(#clip0_917_3082)"><path d="M24.9034 14.8217C24.6824 11.2666 23.5308 7.8298 21.5623 4.84994C22.543 4.19721 23.7374 3.93844 24.9034 4.12603C25.492 4.23064 26.0472 4.4722 26.5233 4.83086C26.9994 5.18951 27.3828 5.65504 27.6421 6.18916C28.0141 7.1512 28.1335 8.19117 27.989 9.21147C27.9754 9.6728 27.8955 10.1299 27.7516 10.5688C27.6613 10.8504 27.5322 11.1183 27.3682 11.3651C27.166 11.69 26.9466 12.0041 26.7109 12.3062C26.1084 13.1206 25.5607 14.0073 24.9034 14.8217Z" fill="#999999"></path><path d="M16.7058 7.58268C15.8382 5.99003 14.5344 4.67263 12.9447 3.78217L10.9546 2.69631C10.9546 2.69631 13.2551 -0.778436 16.1945 0.162641C19.134 1.10372 18.1846 7.4017 17.5821 9.80869" fill="#4D4D4D"></path><path d="M20.3209 41.6243C17.4179 40.4118 16.2129 38.3668 14.6975 36.919C13.1821 35.4711 12.8717 29.3903 13.1638 24.6126C13.456 19.8348 17.4909 11.528 17.5822 9.80869C17.6735 8.08941 15.4643 5.17569 13.5655 3.78217C11.6491 2.2631 9.29769 1.38272 6.84668 1.2666L8.36207 2.51534C9.74965 3.67359 9.42101 3.98125 9.22018 6.26155C9.01935 8.54185 8.72722 15.6904 8.70896 21.8436C8.70896 30.3495 6.73713 32.7022 13.0178 38.8373C14.1564 40.1358 15.6863 41.0368 17.3814 41.4072C21.6902 43.036 24.228 43.2712 20.3209 41.6243Z" fill="#1A1A1A"></path><path d="M17.9839 7.07618C17.5904 9.58823 16.8212 12.0281 15.7016 14.3152C14.6765 16.6746 13.7925 19.0918 13.0543 21.5543C12.076 25.3846 11.8405 29.3642 12.3605 33.2816C12.4325 34.6426 12.8065 35.9712 13.4559 37.1726C14.1362 38.1272 14.9759 38.9596 15.939 39.6338C17.8321 41.3312 20.1651 42.4718 22.6761 42.9276C20.068 40.8547 18.189 38.0165 17.3083 34.8199C16.3002 31.5246 16.6412 27.9684 18.2577 24.9205C18.7142 24.0699 19.2436 23.2555 19.7731 22.4411L24.4653 15.3287C24.7022 15.0187 24.8815 14.6694 24.9948 14.2971C25.0769 13.891 25.0769 13.4727 24.9948 13.0665C24.3347 9.48034 22.792 6.11109 20.5034 3.25758C19.9266 2.35717 19.1529 1.59688 18.2395 1.033C17.3262 0.46911 16.2966 0.116066 15.2269 0C15.7121 0.03052 16.1783 0.198543 16.5699 0.484084C16.9616 0.769625 17.2622 1.16066 17.4361 1.61069C17.8159 2.51034 18.0085 3.47679 18.0021 4.45202C18.0507 5.32627 18.0446 6.20267 17.9839 7.07618Z" fill="#808080"></path><path d="M34.927 21.7174C34.8742 21.5895 34.8068 21.4681 34.7261 21.3554C34.5725 21.0145 34.3893 20.6875 34.1784 20.3781C34.0141 20.1429 33.8315 19.9257 33.6489 19.7085C33.2107 19.1294 33.0829 18.3874 32.5352 17.8988C32.2726 17.6504 32.0907 17.33 32.0126 16.9787C31.9346 16.6273 31.964 16.2609 32.097 15.9261C32.2066 15.6366 32.4074 15.4013 32.5352 15.1298C32.6706 14.7258 32.7195 14.2982 32.6786 13.8744C32.6378 13.4505 32.5081 13.0398 32.2979 12.6685C31.7956 11.6016 31.1838 10.5888 30.4721 9.64624C29.5227 8.32511 28.5185 7.05828 27.4596 5.82764C27.6672 6.89431 27.6423 7.99266 27.3865 9.04902C27.2386 9.62495 27.0432 10.1879 26.8023 10.7321C26.4264 11.4007 26.0118 12.0473 25.5608 12.6685C23.2238 16.2881 20.832 19.9076 18.349 23.4004C17.0435 25.5573 16.3321 28.0161 16.2859 30.5309C16.0848 32.9993 16.618 35.472 17.8195 37.6433C18.5687 38.8742 19.4502 40.021 20.4486 41.0637C21.0694 41.7334 21.7814 42.8735 22.6395 43.0726C22.7491 42.041 22.9499 40.6475 23.096 39.6159C23.3338 37.934 23.8782 36.3089 24.7027 34.8201C25.1895 33.7601 26.0543 32.9158 27.1309 32.4493C27.9135 32.2862 28.7218 32.2862 29.5044 32.4493C29.9422 32.4221 30.3812 32.4221 30.819 32.4493C31.2686 32.4735 31.7149 32.3597 32.097 32.1235C32.3186 31.968 32.5024 31.7655 32.6351 31.5307C32.7677 31.2959 32.8459 31.0347 32.8638 30.7662C32.9186 30.2791 32.9186 29.7874 32.8638 29.3003C32.8245 28.9868 32.8685 28.6686 32.9916 28.3773C33.2473 27.8525 34.0141 27.6172 34.0689 27.02C34.0476 26.7523 33.9665 26.4927 33.8315 26.2599C33.7604 26.1456 33.7228 26.014 33.7228 25.8798C33.7228 25.7456 33.7604 25.614 33.8315 25.4998C33.8315 25.4998 34.0506 25.355 34.1236 25.2464C34.2051 25.1396 34.2492 25.0093 34.2492 24.8754C34.2492 24.7415 34.2051 24.6112 34.1236 24.5044C33.9428 24.2955 33.8006 24.0566 33.7037 23.7986C33.695 23.6656 33.715 23.5323 33.7622 23.4075C33.8094 23.2827 33.8828 23.1692 33.9776 23.0747C34.1732 22.888 34.3945 22.7295 34.6348 22.6041C34.7511 22.5516 34.8541 22.4739 34.9362 22.3769C35.0183 22.2798 35.0776 22.1658 35.1095 22.0431C35.0688 21.9246 35.0069 21.8143 34.927 21.7174Z" fill="#CCCCCC"></path><path d="M34.3062 20.5771C34.478 20.8248 34.619 21.0922 34.7261 21.3734C34.8037 21.4816 34.8709 21.5967 34.9269 21.7173L34.3062 20.5771Z" fill="#CCCCCC"></path><path d="M10.133 33.4262C9.0523 28.5693 8.7138 23.5789 9.12886 18.6223C9.12886 16.1429 11.265 2.44302 7.79605 1.41145C4.85656 0.524668 2.53783 3.94512 2.53783 3.94512C0.667683 7.68216 -0.206002 11.8316 1.36513e-05 15.9982C2.30048 38.8193 17.6735 41.4615 18.2577 41.7149C18.2577 41.7149 11.4476 39.2898 10.133 33.4262Z" fill="#09212A"></path></g><defs><clipPath id="clip0_917_3082"><rect width="35" height="43"></rect></clipPath></defs></svg></div><div class="Styles_desktop__VH2y3 defaultSidebar Styles_container__4YC7p"><nav class="sidebarNav hidden-scroll"><ul class="sidebar-menu mainMenu Styles_menu__izFC1"><li class="Styles_menuItem__BqRqE menuitem level-0"><span></span><ul class="sidebar-menu  Styles_menu__izFC1"><li class="Styles_menuItem__BqRqE menuitem level-1"><a class="" title="Main" href="/">Main</a><ul class="sidebar-menu  Styles_menu__izFC1"></ul></li><li class="Styles_menuItem__BqRqE menuitem level-1"><a class="" title="principles" href="/principles">Principles</a><ul class="sidebar-menu  Styles_menu__izFC1"></ul></li><li class="Styles_menuItem__BqRqE menuitem level-1"><a class="" title="Research areas" href="/research-areas">Research areas</a><ul class="sidebar-menu  Styles_menu__izFC1"></ul></li><li class="Styles_menuItem__BqRqE menuitem level-1"><a class="" title="Projects" href="/projects">Projects</a><ul class="sidebar-menu  Styles_menu__izFC1"></ul></li><li class="Styles_menuItem__BqRqE menuitem level-1"><a class="" title="Open Research Problems" href="/open-problems">Open Research Problems</a><ul class="sidebar-menu  Styles_menu__izFC1"></ul></li><li class="Styles_menuItem__BqRqE menuitem level-1"><a class="" title="publications" href="/publications">Publications</a><ul class="sidebar-menu  Styles_menu__izFC1"></ul></li><li class="Styles_menuItem__BqRqE menuitem level-1"><a class="" title="contribute" href="/contribute">Contribute</a><ul class="sidebar-menu  Styles_menu__izFC1"></ul></li><li class="Styles_menuItem__BqRqE menuitem level-1"><a class="" title="media" href="/media">Media</a><ul class="sidebar-menu  Styles_menu__izFC1"></ul></li></ul><br/></li></ul><br/><ul class="sidebar-menu subMenu Styles_menu__izFC1"><li class="Styles_menuItem__BqRqE menuitem level-0"><a class="" title="research" href="/research">Research</a><ul class="sidebar-menu  Styles_menu__izFC1"><li class="Styles_menuItem__BqRqE menuitem level-1"><a class="" title="The Future of Waku Network: Scaling, Incentivization, and Heterogeneity" href="/future-of-waku-network">The Future of Waku Network: Scaling, Incentivization, and Heterogeneity</a><ul class="sidebar-menu  Styles_menu__izFC1"></ul></li><li class="Styles_menuItem__BqRqE menuitem level-1"><a class="" title="Waku for All Decentralized Applications and Infrastructures" href="/waku-for-all">Waku for All Decentralized Applications and Infrastructures</a><ul class="sidebar-menu  Styles_menu__izFC1"></ul></li><li class="Styles_menuItem__BqRqE menuitem level-1"><a class="" title="Building Privacy-Protecting Infrastructure" href="/building-privacy-protecting-infrastructure">Building Privacy-Protecting Infrastructure</a><ul class="sidebar-menu  Styles_menu__izFC1"></ul></li><li class="Styles_menuItem__BqRqE menuitem level-1"><a class="" title="Waku Privacy and Anonymity Analysis Part I: Definitions and Waku Relay" href="/wakuv2-relay-anon">Waku Privacy and Anonymity Analysis Part I: Definitions and Waku Relay</a><ul class="sidebar-menu  Styles_menu__izFC1"></ul></li><li class="Styles_menuItem__BqRqE menuitem level-1"><a class="" title="Noise handshakes as key-exchange mechanism for Waku" href="/wakuv2-noise">Noise handshakes as key-exchange mechanism for Waku</a><ul class="sidebar-menu  Styles_menu__izFC1"></ul></li><li class="Styles_menuItem__BqRqE menuitem level-1"><a class="" title="Waku v2 Ambient Peer Discovery" href="/wakuv2-apd">Waku v2 Ambient Peer Discovery</a><ul class="sidebar-menu  Styles_menu__izFC1"></ul></li><li class="Styles_menuItem__BqRqE menuitem level-1"><a class="active" title="Introducing nwaku" href="/introducing-nwaku">Introducing nwaku</a><ul class="sidebar-menu  Styles_menu__izFC1"></ul></li><li><span class="button">...</span></li></ul><br/></li></ul><div class="external_links"><div><div class="menuitem-title"><span class="cap">Resources</span></div><ul><li><a href="https://rfc.vac.dev/" target="_blank">&gt; Specs/RFCs</a></li><li><a href="https://forum.vac.dev/" target="_blank">&gt; Forum</a></li><li><a href="https://waku.org" target="_blank">&gt; Waku.org</a></li></ul></div></div></nav></div></aside><article class="Styles_container__pG0bG Style_content__NTXHZ Styles_common_content__Myi5Z"><div class="Style_container__qc2tD"><h2 class="Style_container__eSI4Q serif">Introducing nwaku</h2><div class="serif"><i>Apr 12 2022</i><i> - </i>by<!-- --><a title="hanno" href="/authors/hanno"><span><i> <!-- -->hanno<!-- --></i></span></a></div></div><h2><a class="anchor" id="background"></a><a class="ha" href="#background">Background<!-- --></a></h2>
<!-- --><p>If you&#x27;ve been following our <!-- --><a href="https://vac.dev/research-log/">research log<!-- --></a>,
you&#x27;ll know that many things have happened in the world of Waku v2 since <!-- --><a href="/waku-v2-ethereum-coscup">our last general update<!-- --></a>.
In line with our <!-- --><a href="https://vac.dev/#about">long term goals<!-- --></a>,
we&#x27;ve introduced new protocols,
tweaked our existing protocols
and expanded our team.
We&#x27;ve also shown <!-- --><a href="/waku-v1-v2-bandwidth-comparison">in a series of practical experiments<!-- --></a> that Waku v2 does indeed deliver on some of the <!-- --><a href="/waku-v2-plan">theoretical advantages<!-- --></a> it was designed to have over its predecessor, Waku v1.
A <!-- --><a href="https://forum.vac.dev/t/vac-sustainability-and-business-workshop/116">sustainability and business workshop<!-- --></a> led to the formulation of a clearer vision for Vac as a team.<!-- --></p>
<!-- --><p>From the beginning, our protocol development has been complemented by various client implementations of these protocols,
first in <!-- --><a href="https://github.com/status-im/nim-waku">Nim<!-- --></a>,
but later also in <!-- --><a href="https://github.com/status-im/js-waku">JavaScript<!-- --></a>
and <!-- --><a href="https://github.com/status-im/go-waku">Go<!-- --></a>.
A follow-up post will clarify the purposes, similarities and differences between these three clients.
The <!-- --><a href="https://github.com/status-im/nim-waku/tree/d2fccb5220144893f994a67f2cc26661247f101f/waku/v2">Nim client<!-- --></a>, is our reference implementation,
developed by the research team in parallel with the specs
and building on a home-grown implementation of <!-- --><a href="https://github.com/status-im/nim-libp2p"><code>libp2p</code></a>.
The Nim client is suitable to run as <!-- --><a href="/waku-update">a standalone adaptive node<!-- --></a>,
managed by individual operators
or as an encapsulated service node in other applications.
This post looks at some recent developments within the Nim client.<!-- --></p>
<!-- --><h2><a class="anchor" id="1-nim-waku-is-now-known-as-nwaku"></a><a class="ha" href="#1-nim-waku-is-now-known-as-nwaku">1. <!-- --><em><strong>nim-waku<!-- --></strong></em> is now known as <!-- --><em><strong>nwaku<!-- --></strong></em></a></h2>
<!-- --><p>Pronounced NWHA-koo.
You may already have seen us refer to &quot;<!-- --><code>nwaku</code>&quot; on Vac communication channels,
but it is now official:
The <!-- --><code>nim-waku</code> Waku v2 client has been named <!-- --><code>nwaku</code>.
Why? Well, we needed a recognizable name for our client that could easily be referred to in everyday conversations
and <!-- --><code>nim-waku</code> just didn&#x27;t roll off the tongue.
We&#x27;ve followed the example of the closely related <!-- --><a href="https://github.com/status-im/nimbus-eth2"><code>nimbus</code> project<!-- --></a> to find a punchier name
that explicitly links the client to both the Waku set of protocols and the Nim language.<!-- --></p>
<!-- --><h2><a class="anchor" id="2-improvements-in-stability-and-performance"></a><a class="ha" href="#2-improvements-in-stability-and-performance">2. Improvements in stability and performance<!-- --></a></h2>
<!-- --><p>The initial implementation of Waku v2 demonstrated how the suite of protocols can be applied
to form a generalized, peer-to-peer messaging network,
while addressing a wide range of adaptive requirements.
This allowed us to lift several protocol <!-- --><a href="https://rfc.vac.dev/">specifications<!-- --></a> from <!-- --><code>raw</code> to <!-- --><code>draft</code> status,
indicating that a reference implementation exists for each.
However, as internal dogfooding increased and more external applications started using <!-- --><code>nwaku</code>,
we stepped up our focus on the client&#x27;s stability and performance.
This is especially true where we want <!-- --><code>nwaku</code> to run unsupervised in a production environment
without any degradation in the services it provides.<!-- --></p>
<!-- --><p>Some of the more significant productionization efforts over the last couple of months included:<!-- --></p>
<!-- --><ol>
<!-- --><li>
<!-- --><p>Reworking the <!-- --><code>store</code> implementation to maintain stable memory usage
while storing historical messages
and serving multiple clients querying history simultaneously.
Previously, a <!-- --><code>store</code> node would see gradual service degradation
due to inefficient memory usage when responding to history queries.
Queries that often took longer than 8 mins now complete in under 100 ms.<!-- --></p>
<!-- --></li>
<!-- --><li>
<!-- --><p>Improved peer management.
For example, <!-- --><code>filter</code> nodes will now remove unreachable clients after a number of connection failures,
whereas they would previously keep accumulating dead peers.<!-- --></p>
<!-- --></li>
<!-- --><li>
<!-- --><p>Improved disk usage.
<!-- --><code>nwaku</code> nodes that persist historical messages on disk now manage their own storage size based on the <!-- --><code>--store-capacity</code>.
This can significantly improve node start-up times.<!-- --></p>
<!-- --></li>
<!-- --></ol>
<!-- --><p>More stability issues may be addressed in future as <!-- --><code>nwaku</code> matures,
but we&#x27;ve noticed a marked improvement in the reliability of running <!-- --><code>nwaku</code> nodes.
These include environments where <!-- --><code>nwaku</code> nodes are expected to run with a long uptime.
Vac currently operates two long-running fleets of <!-- --><code>nwaku</code> nodes, <!-- --><code>wakuv2.prod</code> and <!-- --><code>wakuv2.test</code>,
for internal dogfooding and
to serve as experimental bootstrapping nodes.
Status has also recently deployed similar fleets for production and testing based on <!-- --><code>nwaku</code>.
Our goal is to have <!-- --><code>nwaku</code> be stable, performant and flexible enough
to be an attractive option for operators to run and maintain their own Waku v2 nodes.
See also the <!-- --><a href="/introducing-nwaku#future-work">future work<!-- --></a> section below for more on our general goal of <!-- --><em><code>nwaku</code> for operators<!-- --></em>.<!-- --></p>
<!-- --><h2><a class="anchor" id="3-improvements-in-interoperability"></a><a class="ha" href="#3-improvements-in-interoperability">3. Improvements in interoperability<!-- --></a></h2>
<!-- --><p>We&#x27;ve implemented several features that improve <!-- --><code>nwaku</code>&#x27;s usability in different environments
and its interoperability with other Waku v2 clients.
One major step forward here was adding support for both secure and unsecured WebSocket connections as <!-- --><code>libp2p</code> transports.
This allows direct connectivity with <!-- --><code>js-waku</code>
and paves the way for native browser usage.
We&#x27;ve also added support for parsing and resolving DNS-type <!-- --><code>multiaddrs</code>,
i.e. multiaddress protocol schemes <!-- --><a href="https://github.com/multiformats/multiaddr/blob/b746a7d014e825221cc3aea6e57a92d78419990f/protocols.csv#L8-L11"><code>dns</code>, <!-- --><code>dns4</code>, <!-- --><code>dns6</code> and <!-- --><code>dnsaddr</code></a>.
A <!-- --><code>nwaku</code> node can now also be <!-- --><a href="https://github.com/status-im/nim-waku/tree/d2fccb5220144893f994a67f2cc26661247f101f/waku/v2#configuring-a-domain-name">configured with its own IPv4 DNS domain name<!-- --></a>
allowing dynamic IP address allocation without impacting a node&#x27;s reachability by its peers.<!-- --></p>
<!-- --><h2><a class="anchor" id="4-peer-discovery"></a><a class="ha" href="#4-peer-discovery">4. Peer discovery<!-- --></a></h2>
<!-- --><p><em>Peer discovery<!-- --></em> is the method by which nodes become aware of each other’s existence.
The question of peer discovery in a Waku v2 network has been a focus area since the protocol was first conceptualized.
Since then several different approaches to discovery have been proposed and investigated.
We&#x27;ve implemented three discovery mechanisms in <!-- --><code>nwaku</code> so far:<!-- --></p>
<!-- --><h3><a class="anchor" id="dns-based-discovery"></a><a class="ha" href="#dns-based-discovery">DNS-based discovery<!-- --></a></h3>
<!-- --><p><code>nwaku</code> nodes can retrieve an authenticated, updateable list of peers via DNS to bootstrap connection to a Waku v2 network.
Our implementation is based on <!-- --><a href="https://eips.ethereum.org/EIPS/eip-1459">EIP-1459<!-- --></a>.<!-- --></p>
<!-- --><h3><a class="anchor" id="gossipsub-peer-exchange"></a><a class="ha" href="#gossipsub-peer-exchange">GossipSub peer exchange<!-- --></a></h3>
<!-- --><p><a href="https://github.com/libp2p/specs/blob/10712c55ab309086a52eec7d25f294df4fa96528/pubsub/gossipsub/gossipsub-v1.1.md#prune-backoff-and-peer-exchange">GossipSub Peer Exchange (PX)<!-- --></a> is a GossipSub v1.1 mechanism
whereby a pruning peer may provide a pruned peer with a set of alternative peers
where it can connect to reform its mesh.
This is a very suitable mechanism to gradually discover more peers
from an initial connection to a small set of bootstrap peers.
It is enabled in a <!-- --><code>nwaku</code> node by default.<!-- --></p>
<!-- --><h3><a class="anchor" id="waku-node-discovery-protocol-v5"></a><a class="ha" href="#waku-node-discovery-protocol-v5">Waku Node Discovery Protocol v5<!-- --></a></h3>
<!-- --><p>This is a DHT-based discovery mechanism adapted to store and relay <!-- --><em>node records<!-- --></em>.
Our implementation is based on <!-- --><a href="https://github.com/ethereum/devp2p/blob/fa6428ada7385c13551873b2ae6ad2457c228eb8/discv5/discv5-theory.md">Ethereum&#x27;s Discovery v5 protocol<!-- --></a>
with some <!-- --><a href="https://rfc.vac.dev/spec/33/">minor modifications<!-- --></a> to isolate our discovery network from that of Ethereum.
The decision to separate the Waku Discovery v5 network from Ethereum&#x27;s was made on considerations of lookup efficiency.
This comes at a possible tradeoff in network resilience.
We are considering merging with the Ethereum Discovery v5 network in future,
or even implement a hybrid solution.
<!-- --><a href="https://forum.vac.dev/t/waku-v2-discv5-roadmap-discussion/121/8">This post<!-- --></a> explains the decision and future steps.<!-- --></p>
<!-- --><h2><a class="anchor" id="5-spam-protection-using-rln"></a><a class="ha" href="#5-spam-protection-using-rln">5. Spam protection using RLN<!-- --></a></h2>
<!-- --><p>An early addition to our suite of protocols was <!-- --><a href="https://rfc.vac.dev/spec/32/">an extension of <!-- --><code>11/WAKU-RELAY</code></a>
that provided spam protection using <!-- --><a href="https://rfc.vac.dev/spec/32/">Rate Limiting Nullifiers (RLN)<!-- --></a>.
The <!-- --><code>nwaku</code> client now contains a working demonstration and integration of RLN relay.
Check out <!-- --><a href="https://github.com/status-im/nim-waku/blob/ee96705c7fbe4063b780ac43b7edee2f6c4e351b/docs/tutorial/rln-chat2-live-testnet.md">this tutorial<!-- --></a> to see the protocol in action using a toy chat application built on <!-- --><code>nwaku</code>.
We&#x27;d love for people to join us in dogfooding RLN spam protection as part of our operator incentive testnet.
Feel free to join our <!-- --><a href="https://discord.gg/KNj3ctuZvZ">Vac Discord<!-- --></a> server
and head to the <!-- --><code>#rln</code> channel for more information.<!-- --></p>
<!-- --><h2><a class="anchor" id="future-work"></a><a class="ha" href="#future-work">Future work<!-- --></a></h2>
<!-- --><p>As we continue working towards our goal of a fully decentralized, generalized and censorship-resistant messaging protocol,
these are some of the current and future focus areas for <!-- --><code>nwaku</code>:<!-- --></p>
<!-- --><h3><a class="anchor" id="reaching-out-to-operators"></a><a class="ha" href="#reaching-out-to-operators">Reaching out to operators:<!-- --></a></h3>
<!-- --><p>We are starting to push for operators to run and maintain their own Waku v2 nodes,
preferably contributing to the default Waku v2 network as described by the default pubsub topic (<!-- --><code>/waku/2/default-waku/proto</code>).
Amongst other things, a large fleet of stable operator-run Waku v2 nodes will help secure the network,
provide valuable services to a variety of applications
and ensure the future sustainability of both Vac as a research organization and the Waku suite of protocols.<!-- --></p>
<!-- --><p>We are targeting <!-- --><code>nwaku</code> as the main option for operator-run nodes.<!-- --><br/>
<!-- -->Specifically, we aim to provide through <!-- --><code>nwaku</code>:<!-- --></p>
<!-- --><ol>
<!-- --><li>a lightweight and robust Waku v2 client.
This client must be first in line to support innovative and new Waku v2 protocols,
but configurable enough to serve the adaptive needs of various operators.<!-- --></li>
<!-- --><li>an easy-to-follow guide for operators to configure,
set up and maintain their own nodes<!-- --></li>
<!-- --><li>a set of operator-focused tools to monitor and maintain a running node<!-- --></li>
<!-- --></ol>
<!-- --><h3><a class="anchor" id="better-conversational-security-layer-guarantees"></a><a class="ha" href="#better-conversational-security-layer-guarantees">Better conversational security layer guarantees<!-- --></a></h3>
<!-- --><p>Conversational security guarantees in Waku v2 are currently designed around the Status application.
Developers building their own applications on top of Waku would therefore
either have to reimplement a set of tools similar to Status
or build their own security solutions on the application layer above Waku.
We are working on <!-- --><a href="https://github.com/vacp2p/research/issues/97">a set of features<!-- --></a> built into Waku
that will provide the general security properties Waku users may desire
and do so in a modern and simple way.
This is useful for applications outside of Status that want similar security guarantees.
As a first step, we&#x27;ve already made good progress toward <!-- --><a href="https://forum.vac.dev/t/noise-handshakes-as-key-exchange-mechanism-for-waku2/130">integrating noise handshakes<!-- --></a> as a key exchange mechanism in Waku v2.<!-- --></p>
<!-- --><h3><a class="anchor" id="protocol-incentivization"></a><a class="ha" href="#protocol-incentivization">Protocol incentivization<!-- --></a></h3>
<!-- --><p>We want to design incentivization around our protocols to encourage desired behaviors in the Waku network,
rewarding nodes providing costly services
and punishing adversarial actions.
This will increase the overall security of the network
and encourage operators to run their own Waku nodes.
In turn, the sustainability of Vac as an organization will be better guaranteed.
As such, protocol incentivization was a major focus in our recent <!-- --><a href="https://forum.vac.dev/t/vac-sustainability-and-business-workshop/">Vac Sustainability and Business Workshop<!-- --></a>.
Our first step here is to finish integrating RLN relay into Waku
with blockchain interaction to manage members,
punish spammers
and reward spam detectors.
After this, we want to design monetary incentivization for providers of <!-- --><code>store</code>, <!-- --><code>lightpush</code> and <!-- --><code>filter</code> services.
This may also tie into a reputation mechanism for service nodes based on a network-wide consensus on service quality.
A big challenge for protocol incentivization is doing it in a private fashion,
so we can keep similar metadata protection guarantees as the Waku base layer.
This ties into our focus on <!-- --><a href="https://forum.vac.dev/t/vac-3-zk/97">Zero Knowledge tech<!-- --></a>.<!-- --></p>
<!-- --><h3><a class="anchor" id="improved-store-capacity"></a><a class="ha" href="#improved-store-capacity">Improved store capacity<!-- --></a></h3>
<!-- --><p>The <!-- --><code>nwaku</code> store currently serves as an efficient in-memory store for historical messages,
dimensioned by the maximum number of messages the store node is willing to keep.
This makes the <!-- --><code>nwaku</code> store appropriate for keeping history over a short term
without any time-based guarantees,
but with the advantage of providing fast responses to history queries.
Some applications, such as Status, require longer-term historical message storage
with time-based dimensioning
to guarantee that messages will be stored for a specified minimum period.
Because of the relatively high cost of memory compared to disk space,
a higher capacity store, with time guarantees, should operate as a disk-only database of historical messages.
This is an ongoing effort.<!-- --></p>
<!-- --><h3><a class="anchor" id="multipurpose-discovery"></a><a class="ha" href="#multipurpose-discovery">Multipurpose discovery<!-- --></a></h3>
<!-- --><p>In addition to <!-- --><a href="/introducing-nwaku#4-peer-discovery">the three discovery methods<!-- --></a> already implemented in <!-- --><code>nwaku</code>,
we are working on improving discovery on at least three fronts:<!-- --></p>
<!-- --><h4><a class="anchor" id="capability-discovery"></a><a class="ha" href="#capability-discovery"><em>Capability discovery:<!-- --></em></a></h4>
<!-- --><p>Waku v2 nodes may be interested in peers with specific capabilities, for example:<!-- --></p>
<!-- --><ol>
<!-- --><li>peers within a specific pubsub topic mesh,<!-- --></li>
<!-- --><li>peers with <!-- --><strong>store<!-- --></strong> capability,<!-- --></li>
<!-- --><li><strong>store<!-- --></strong> peers with x days of history for a specific content topic, etc.<!-- --></li>
<!-- --></ol>
<!-- --><p>Capability discovery entails mechanisms by which such capabilities can be advertised and discovered/negotiated.
One major hurdle to overcome is the increased complexity of finding a node with specific capabilities within the larger network (a needle in a haystack).
See the <!-- --><a href="https://github.com/vacp2p/rfc/issues/429">original problem statement<!-- --></a> for more.<!-- --></p>
<!-- --><h4><a class="anchor" id="improvements-in-discovery-v5"></a><a class="ha" href="#improvements-in-discovery-v5"><em>Improvements in Discovery v5<!-- --></em></a></h4>
<!-- --><p>Of the implemented discovery methods,
Discovery v5 best addresses our need for a decentralized and scalable discovery mechanism.
With the basic implementation done,
there are some improvements planned for Discovery v5,
including methods to increase security such as merging with the Ethereum Discovery v5 network,
introducing explicit NAT traversal
and utilizing <!-- --><a href="https://github.com/ethereum/devp2p/blob/fa6428ada7385c13551873b2ae6ad2457c228eb8/discv5/discv5-theory.md#topic-advertisement">topic advertisement<!-- --></a>.
The <!-- --><a href="https://forum.vac.dev/t/waku-v2-discv5-roadmap-discussion/121">Waku v2 Discovery v5 Roadmap<!-- --></a> contains more details.<!-- --></p>
<!-- --><h4><a class="anchor" id="generalized-peer-exchange"></a><a class="ha" href="#generalized-peer-exchange"><em>Generalized peer exchange<!-- --></em></a></h4>
<!-- --><p><code>nwaku</code> already implements <!-- --><a href="https://github.com/libp2p/specs/blob/10712c55ab309086a52eec7d25f294df4fa96528/pubsub/gossipsub/gossipsub-v1.1.md#prune-backoff-and-peer-exchange">GossipSub peer exchange<!-- --></a>.
We now need a general request-response mechanism outside of GossipSub
by which a node may learn about other Waku v2 nodes
by requesting and receiving a list of peers from a neighbor.
This could, for example, be a suitable way for resource-restricted devices to request a stronger peer
to perform a random Discovery v5 lookup on their behalf
or simply to be informed of a subset of the peers known to that neighbor.
See <!-- --><a href="https://github.com/vacp2p/rfc/issues/495">this issue<!-- --></a> for more.<!-- --></p>
<!-- --><hr/>
<!-- --><p>This concludes a general outline of some of the main recent developments in the <!-- --><code>nwaku</code> client
and a summary of the current and future focus areas.
Much more is happening behind the scenes, of course,
so for more information, or to join the conversation,
feel free to join our <!-- --><a href="https://discord.gg/KNj3ctuZvZ">Vac Discord<!-- --></a> server
or to check out the <!-- --><a href="https://github.com/status-im/nim-waku"><code>nwaku</code> repo on Github<!-- --></a>.
You can also view the changelog for past releases <!-- --><a href="https://github.com/status-im/nim-waku/releases">here<!-- --></a>.<!-- --></p>
<!-- --><h2><a class="anchor" id="references"></a><a class="ha" href="#references">References<!-- --></a></h2>
<!-- --><ul>
<!-- --><li><a href="https://rfc.vac.dev/spec/17/">17/WAKU-RLN-RELAY<!-- --></a></li>
<!-- --><li><a href="https://rfc.vac.dev/spec/32/">32/RLN<!-- --></a></li>
<!-- --><li><a href="https://rfc.vac.dev/spec/33/">33/WAKU2-DISCV5<!-- --></a></li>
<!-- --><li><a href="https://github.com/vacp2p/rfc/issues/429">Capabilities advertising<!-- --></a></li>
<!-- --><li><a href="https://github.com/status-im/nim-waku/tree/d2fccb5220144893f994a67f2cc26661247f101f/waku/v2#configuring-a-domain-name">Configuring a domain name<!-- --></a></li>
<!-- --><li><a href="https://github.com/vacp2p/research/issues/97">Conversational security<!-- --></a></li>
<!-- --><li><a href="https://github.com/ethereum/devp2p/blob/fa6428ada7385c13551873b2ae6ad2457c228eb8/discv5/discv5-theory.md#topic-advertisement">Discovery v5 Topic Advertisement<!-- --></a></li>
<!-- --><li><a href="https://eips.ethereum.org/EIPS/eip-1459">EIP-1459<!-- --></a></li>
<!-- --><li><a href="https://github.com/libp2p/specs/blob/10712c55ab309086a52eec7d25f294df4fa96528/pubsub/gossipsub/gossipsub-v1.1.md#prune-backoff-and-peer-exchange">GossipSub Peer Exchange<!-- --></a></li>
<!-- --><li><a href="https://github.com/status-im/go-waku">go-waku<!-- --></a></li>
<!-- --><li><a href="https://github.com/status-im/js-waku">js-waku<!-- --></a></li>
<!-- --><li><a href="https://github.com/multiformats/multiaddr/blob/b746a7d014e825221cc3aea6e57a92d78419990f/protocols.csv#L8-L11"><code>multiaddr</code> formats<!-- --></a></li>
<!-- --><li><a href="https://github.com/status-im/nimbus-eth2">nimbus-eth2<!-- --></a></li>
<!-- --><li><a href="https://github.com/status-im/nim-libp2p">nim-libp2p<!-- --></a></li>
<!-- --><li><a href="https://github.com/status-im/nim-waku">nim-waku<!-- --></a></li>
<!-- --><li><a href="https://github.com/status-im/nim-waku/releases">nim-waku releases<!-- --></a></li>
<!-- --><li><a href="https://github.com/ethereum/devp2p/blob/fa6428ada7385c13551873b2ae6ad2457c228eb8/discv5/discv5-theory.md">Node Discovery Protocol v5 - Theory<!-- --></a></li>
<!-- --><li><a href="https://forum.vac.dev/t/noise-handshakes-as-key-exchange-mechanism-for-waku2/130">Noise handshakes<!-- --></a></li>
<!-- --><li><a href="https://github.com/status-im/nim-waku/blob/ee96705c7fbe4063b780ac43b7edee2f6c4e351b/docs/tutorial/rln-chat2-live-testnet.md">RLN tutorial<!-- --></a></li>
<!-- --><li><a href="https://forum.vac.dev/t/vac-3-zk/97">Vac &lt;3 ZK<!-- --></a></li>
<!-- --><li><a href="https://vac.dev/#about">Vac About page<!-- --></a></li>
<!-- --><li><a href="https://vac.dev/research-log/">Vac Research log<!-- --></a></li>
<!-- --><li><a href="https://rfc.vac.dev/">Vac RFC site<!-- --></a></li>
<!-- --><li><a href="https://forum.vac.dev/t/vac-sustainability-and-business-workshop/">Vac Sustainability and Business Workshop<!-- --></a></li>
<!-- --><li><a href="/waku-update">Waku Update<!-- --></a></li>
<!-- --><li><a href="/waku-v1-v2-bandwidth-comparison">Waku v1 vs Waku v2: Bandwidth Comparison<!-- --></a></li>
<!-- --><li><a href="https://github.com/vacp2p/rfc/issues/495">Waku v2 Peer Exchange<!-- --></a></li>
<!-- --><li><a href="https://forum.vac.dev/t/waku-v2-discv5-roadmap-discussion/121">Waku v2 Discovery v5 Roadmap<!-- --></a></li>
<!-- --><li><a href="/waku-v2-plan">What&#x27;s the Plan for Waku v2?<!-- --></a></li>
<!-- --></ul></article><aside class="Styles_container__3DqFl Style_toc__v7JJe Styles_common_toc__nMHyQ hidden-scroll"><nav class="Styles_tocComponent__fhPld hidden-scroll"><ul><li class="h-2"><a class="" href="/introducing-nwaku#background">Background</a></li><li class="h-2"><a class="" href="/introducing-nwaku#nim-waku-is-now-known-as-nwaku">nim-waku_ is now known as nwaku_</a></li><li class="h-2"><a class="" href="/introducing-nwaku#improvements-in-stability-and-performance">Improvements in stability and performance</a></li><li class="h-2"><a class="" href="/introducing-nwaku#improvements-in-interoperability">Improvements in interoperability</a></li><li class="h-2"><a class="" href="/introducing-nwaku#peer-discovery">Peer discovery</a></li><li class="h-3"><a class="" href="/introducing-nwaku#dns-based-discovery">DNS-based discovery</a></li><li class="h-3"><a class="" href="/introducing-nwaku#gossip-sub-peer-exchange">GossipSub peer exchange</a></li><li class="h-3"><a class="" href="/introducing-nwaku#waku-node-discovery-protocol-v5">Waku Node Discovery Protocol v5</a></li><li class="h-2"><a class="" href="/introducing-nwaku#spam-protection-using-rln">Spam protection using RLN</a></li><li class="h-2"><a class="" href="/introducing-nwaku#future-work">Future work</a></li><li class="h-3"><a class="" href="/introducing-nwaku#reaching-out-to-operators">Reaching out to operators:</a></li><li class="h-3"><a class="" href="/introducing-nwaku#better-conversational-security-layer-guarantees">Better conversational security layer guarantees</a></li><li class="h-3"><a class="" href="/introducing-nwaku#protocol-incentivization">Protocol incentivization</a></li><li class="h-3"><a class="" href="/introducing-nwaku#improved-store-capacity">Improved store capacity</a></li><li class="h-3"><a class="" href="/introducing-nwaku#multipurpose-discovery">Multipurpose discovery</a></li><li class="h-4"><a class="" href="/introducing-nwaku#capability-discovery">Capability discovery:</a></li><li class="h-4"><a class="" href="/introducing-nwaku#improvements-in-discovery-v5">Improvements in Discovery v5</a></li><li class="h-4"><a class="" href="/introducing-nwaku#generalized-peer-exchange">Generalized peer exchange</a></li><li class="h-2"><a class="" href="/introducing-nwaku#references">References</a></li></ul></nav></aside></main><footer class="Styles_container___YkOC undefined Styles_common_footer__1rPoh"><div class="footer-content-container Styles_content__0jn9p"><div><p><span class="copy-left">©</span><span>2023<!-- --></span><span> Vac Research</span><span> - </span><span>Vac - Communication, Privacy, Etc</span></p></div><div class="Styles_bottomPart__CsMh_"><div class="Styles_socialMedia__AmAKz "><span><a href="https://twitter.com/vacp2p" class="button"><svg xmlns="http://www.w3.org/2000/svg" width="30" viewBox="0 0 543.684 543.684" xml:space="preserve"><path d="M527.657 106.697a231.362 231.362 0 0 1-8.041 2.191c-16.384 4.137-17.89-1.322-6.028-13.366a109.306 109.306 0 0 0 14.082-17.607c9.137-14.217 1.212-20.417-14.333-13.776a224.853 224.853 0 0 1-16.897 6.432c-16.017 5.379-38.746-2.735-53.018-11.787-18.018-11.426-38.495-17.136-61.438-17.136-32.137 0-59.529 11.334-82.192 33.984-22.656 22.662-33.99 50.062-33.99 82.191 0 4.394.251 8.855.747 13.378.814 7.362-11.585 12.699-28.317 10.336-36.194-5.11-70.582-16.077-103.171-32.889-32.32-16.671-60.845-37.65-85.57-62.938-11.819-12.086-27.804-11.045-32.217 5.27-2.644 9.78-3.959 19.951-3.959 30.515 0 19.908 4.675 38.372 14.027 55.392 4.651 8.47 10.098 16.138 16.353 22.999 10.521 11.549 8.911 18.25-5.734 14.144-14.639-4.106-25.367-10.202-25.367-9.804v.722c0 28.048 8.807 52.693 26.432 73.911 10.857 13.072 23.47 23.17 37.834 30.282 15.147 7.503 22.203 11.688 13.733 12.784-5.11.661-10.251.991-15.422.991-3.5 0-7.172-.159-11.003-.483-6.059-.514-7.148 12.111 2.038 26.298 7.301 11.273 16.646 21.193 28.03 29.762 11.579 8.721 24.058 14.981 37.417 18.794 16.255 4.633 19.517 13.073 5.024 21.763-35.863 21.519-75.551 32.277-119.058 32.277-4.902 0-9.578-.11-14.045-.324-7.754-.373-2.552 6.456 12.417 14.296 46.775 24.499 97.43 36.738 151.972 36.738 41.237 0 79.964-6.529 116.176-19.596 36.199-13.066 67.136-30.576 92.791-52.516 25.655-21.94 47.779-47.173 66.365-75.711 18.581-28.537 32.424-58.33 41.543-89.376 9.106-31.053 13.666-62.167 13.666-93.342 0-2.809-.024-5.331-.067-7.552-.086-4.174 10.955-15.472 23.28-27.032a242.397 242.397 0 0 0 15.937-16.444c11.179-12.688 6.228-18.502-9.997-13.771z"></path></svg></a></span><span><a href="https://discord.gg/PQFdubGt6d" class="button"><svg width="30" viewBox="0 0 71 55" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#discord_svg__a)"><path d="M60.105 4.898A58.55 58.55 0 0 0 45.653.415a.22.22 0 0 0-.233.11 40.784 40.784 0 0 0-1.8 3.697c-5.456-.817-10.886-.817-16.23 0-.485-1.164-1.201-2.587-1.828-3.697a.228.228 0 0 0-.233-.11 58.386 58.386 0 0 0-14.451 4.483.207.207 0 0 0-.095.082C1.578 18.73-.944 32.144.293 45.39a.244.244 0 0 0 .093.167c6.073 4.46 11.955 7.167 17.729 8.962a.23.23 0 0 0 .249-.082 42.08 42.08 0 0 0 3.627-5.9.225.225 0 0 0-.123-.312 38.772 38.772 0 0 1-5.539-2.64.228.228 0 0 1-.022-.378c.372-.279.744-.569 1.1-.862a.22.22 0 0 1 .23-.03c11.619 5.304 24.198 5.304 35.68 0a.219.219 0 0 1 .233.027c.356.293.728.586 1.103.865a.228.228 0 0 1-.02.378 36.384 36.384 0 0 1-5.54 2.637.227.227 0 0 0-.121.315 47.249 47.249 0 0 0 3.624 5.897.225.225 0 0 0 .249.084c5.801-1.794 11.684-4.502 17.757-8.961a.228.228 0 0 0 .092-.164c1.48-15.315-2.48-28.618-10.497-40.412a.18.18 0 0 0-.093-.084Zm-36.38 32.427c-3.497 0-6.38-3.211-6.38-7.156 0-3.944 2.827-7.156 6.38-7.156 3.583 0 6.438 3.24 6.382 7.156 0 3.945-2.827 7.156-6.381 7.156Zm23.593 0c-3.498 0-6.38-3.211-6.38-7.156 0-3.944 2.826-7.156 6.38-7.156 3.582 0 6.437 3.24 6.38 7.156 0 3.945-2.798 7.156-6.38 7.156Z" fill="#23272A"></path></g><defs><clipPath id="discord_svg__a"><path fill="#fff" d="M0 0h71v55H0z"></path></clipPath></defs></svg></a></span><span><a href="https://github.com/vacp2p" class="button"><svg width="30" viewBox="0 0 1024 1024" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M512 0C229.12 0 0 229.12 0 512c0 226.56 146.56 417.92 350.08 485.76 25.6 4.48 35.2-10.88 35.2-24.32 0-12.16-.64-52.48-.64-95.36-128.64 23.68-161.92-31.36-172.16-60.16-5.76-14.72-30.72-60.16-52.48-72.32-17.92-9.6-43.52-33.28-.64-33.92 40.32-.64 69.12 37.12 78.72 52.48 46.08 77.44 119.68 55.68 149.12 42.24 4.48-33.28 17.92-55.68 32.64-68.48-113.92-12.8-232.96-56.96-232.96-252.8 0-55.68 19.84-101.76 52.48-137.6-5.12-12.8-23.04-65.28 5.12-135.68 0 0 42.88-13.44 140.8 52.48 40.96-11.52 84.48-17.28 128-17.28 43.52 0 87.04 5.76 128 17.28 97.92-66.56 140.8-52.48 140.8-52.48 28.16 70.4 10.24 122.88 5.12 135.68 32.64 35.84 52.48 81.28 52.48 137.6 0 196.48-119.68 240-233.6 252.8 18.56 16 34.56 46.72 34.56 94.72 0 68.48-.64 123.52-.64 140.8 0 13.44 9.6 29.44 35.2 24.32C877.44 929.92 1024 737.92 1024 512 1024 229.12 794.88 0 512 0Z" fill="#1B1F23"></path></svg></a></span></div><nav class="Styles_legal__0ciDG"><a title="Privacy Policy" href="/privacy-policy">Privacy Policy</a></nav></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"markdown":{"content":"\n## Background\n\nIf you've been following our [research log](https://vac.dev/research-log/),\nyou'll know that many things have happened in the world of Waku v2 since [our last general update](/waku-v2-ethereum-coscup).\nIn line with our [long term goals](https://vac.dev/#about),\nwe've introduced new protocols,\ntweaked our existing protocols\nand expanded our team.\nWe've also shown [in a series of practical experiments](/waku-v1-v2-bandwidth-comparison) that Waku v2 does indeed deliver on some of the [theoretical advantages](/waku-v2-plan) it was designed to have over its predecessor, Waku v1.\nA [sustainability and business workshop](https://forum.vac.dev/t/vac-sustainability-and-business-workshop/116) led to the formulation of a clearer vision for Vac as a team.\n\nFrom the beginning, our protocol development has been complemented by various client implementations of these protocols,\nfirst in [Nim](https://github.com/status-im/nim-waku),\nbut later also in [JavaScript](https://github.com/status-im/js-waku)\nand [Go](https://github.com/status-im/go-waku).\nA follow-up post will clarify the purposes, similarities and differences between these three clients.\nThe [Nim client](https://github.com/status-im/nim-waku/tree/d2fccb5220144893f994a67f2cc26661247f101f/waku/v2), is our reference implementation,\ndeveloped by the research team in parallel with the specs\nand building on a home-grown implementation of [`libp2p`](https://github.com/status-im/nim-libp2p).\nThe Nim client is suitable to run as [a standalone adaptive node](/waku-update),\nmanaged by individual operators\nor as an encapsulated service node in other applications.\nThis post looks at some recent developments within the Nim client.\n\n## 1. _**nim-waku**_ is now known as _**nwaku**_\n\nPronounced NWHA-koo.\nYou may already have seen us refer to \"`nwaku`\" on Vac communication channels,\nbut it is now official:\nThe `nim-waku` Waku v2 client has been named `nwaku`.\nWhy? Well, we needed a recognizable name for our client that could easily be referred to in everyday conversations\nand `nim-waku` just didn't roll off the tongue.\nWe've followed the example of the closely related [`nimbus` project](https://github.com/status-im/nimbus-eth2) to find a punchier name\nthat explicitly links the client to both the Waku set of protocols and the Nim language.\n\n## 2. Improvements in stability and performance\n\nThe initial implementation of Waku v2 demonstrated how the suite of protocols can be applied\nto form a generalized, peer-to-peer messaging network,\nwhile addressing a wide range of adaptive requirements.\nThis allowed us to lift several protocol [specifications](https://rfc.vac.dev/) from `raw` to `draft` status,\nindicating that a reference implementation exists for each.\nHowever, as internal dogfooding increased and more external applications started using `nwaku`,\nwe stepped up our focus on the client's stability and performance.\nThis is especially true where we want `nwaku` to run unsupervised in a production environment\nwithout any degradation in the services it provides.\n\nSome of the more significant productionization efforts over the last couple of months included:\n\n1. Reworking the `store` implementation to maintain stable memory usage\nwhile storing historical messages\nand serving multiple clients querying history simultaneously.\nPreviously, a `store` node would see gradual service degradation\ndue to inefficient memory usage when responding to history queries.\nQueries that often took longer than 8 mins now complete in under 100 ms.\n\n2. Improved peer management.\nFor example, `filter` nodes will now remove unreachable clients after a number of connection failures,\nwhereas they would previously keep accumulating dead peers.\n\n3. Improved disk usage.\n`nwaku` nodes that persist historical messages on disk now manage their own storage size based on the `--store-capacity`.\nThis can significantly improve node start-up times.\n\nMore stability issues may be addressed in future as `nwaku` matures,\nbut we've noticed a marked improvement in the reliability of running `nwaku` nodes.\nThese include environments where `nwaku` nodes are expected to run with a long uptime.\nVac currently operates two long-running fleets of `nwaku` nodes, `wakuv2.prod` and `wakuv2.test`,\nfor internal dogfooding and\nto serve as experimental bootstrapping nodes.\nStatus has also recently deployed similar fleets for production and testing based on `nwaku`.\nOur goal is to have `nwaku` be stable, performant and flexible enough\nto be an attractive option for operators to run and maintain their own Waku v2 nodes.\nSee also the [future work](#future-work) section below for more on our general goal of _`nwaku` for operators_.\n\n## 3. Improvements in interoperability\n\nWe've implemented several features that improve `nwaku`'s usability in different environments\nand its interoperability with other Waku v2 clients.\nOne major step forward here was adding support for both secure and unsecured WebSocket connections as `libp2p` transports.\nThis allows direct connectivity with `js-waku`\nand paves the way for native browser usage.\nWe've also added support for parsing and resolving DNS-type `multiaddrs`,\ni.e. multiaddress protocol schemes [`dns`, `dns4`, `dns6` and `dnsaddr`](https://github.com/multiformats/multiaddr/blob/b746a7d014e825221cc3aea6e57a92d78419990f/protocols.csv#L8-L11).\nA `nwaku` node can now also be [configured with its own IPv4 DNS domain name](https://github.com/status-im/nim-waku/tree/d2fccb5220144893f994a67f2cc26661247f101f/waku/v2#configuring-a-domain-name) \nallowing dynamic IP address allocation without impacting a node's reachability by its peers.\n\n## 4. Peer discovery\n\n_Peer discovery_ is the method by which nodes become aware of each other’s existence.\nThe question of peer discovery in a Waku v2 network has been a focus area since the protocol was first conceptualized.\nSince then several different approaches to discovery have been proposed and investigated.\nWe've implemented three discovery mechanisms in `nwaku` so far:\n\n### DNS-based discovery\n\n`nwaku` nodes can retrieve an authenticated, updateable list of peers via DNS to bootstrap connection to a Waku v2 network.\nOur implementation is based on [EIP-1459](https://eips.ethereum.org/EIPS/eip-1459).\n\n### GossipSub peer exchange\n\n[GossipSub Peer Exchange (PX)](https://github.com/libp2p/specs/blob/10712c55ab309086a52eec7d25f294df4fa96528/pubsub/gossipsub/gossipsub-v1.1.md#prune-backoff-and-peer-exchange) is a GossipSub v1.1 mechanism\nwhereby a pruning peer may provide a pruned peer with a set of alternative peers\nwhere it can connect to reform its mesh.\nThis is a very suitable mechanism to gradually discover more peers\nfrom an initial connection to a small set of bootstrap peers.\nIt is enabled in a `nwaku` node by default.\n\n### Waku Node Discovery Protocol v5\n\nThis is a DHT-based discovery mechanism adapted to store and relay _node records_.\nOur implementation is based on [Ethereum's Discovery v5 protocol](https://github.com/ethereum/devp2p/blob/fa6428ada7385c13551873b2ae6ad2457c228eb8/discv5/discv5-theory.md)\nwith some [minor modifications](https://rfc.vac.dev/spec/33/) to isolate our discovery network from that of Ethereum.\nThe decision to separate the Waku Discovery v5 network from Ethereum's was made on considerations of lookup efficiency.\nThis comes at a possible tradeoff in network resilience.\nWe are considering merging with the Ethereum Discovery v5 network in future,\nor even implement a hybrid solution.\n[This post](https://forum.vac.dev/t/waku-v2-discv5-roadmap-discussion/121/8) explains the decision and future steps.\n\n## 5. Spam protection using RLN\n\nAn early addition to our suite of protocols was [an extension of `11/WAKU-RELAY`](https://rfc.vac.dev/spec/32/)\nthat provided spam protection using [Rate Limiting Nullifiers (RLN)](https://rfc.vac.dev/spec/32/).\nThe `nwaku` client now contains a working demonstration and integration of RLN relay.\nCheck out [this tutorial](https://github.com/status-im/nim-waku/blob/ee96705c7fbe4063b780ac43b7edee2f6c4e351b/docs/tutorial/rln-chat2-live-testnet.md) to see the protocol in action using a toy chat application built on `nwaku`.\nWe'd love for people to join us in dogfooding RLN spam protection as part of our operator incentive testnet.\nFeel free to join our [Vac Discord](https://discord.gg/KNj3ctuZvZ) server\nand head to the `#rln` channel for more information.\n\n## Future work\n\nAs we continue working towards our goal of a fully decentralized, generalized and censorship-resistant messaging protocol,\nthese are some of the current and future focus areas for `nwaku`:\n\n### Reaching out to operators:\n\nWe are starting to push for operators to run and maintain their own Waku v2 nodes,\npreferably contributing to the default Waku v2 network as described by the default pubsub topic (`/waku/2/default-waku/proto`).\nAmongst other things, a large fleet of stable operator-run Waku v2 nodes will help secure the network,\nprovide valuable services to a variety of applications\nand ensure the future sustainability of both Vac as a research organization and the Waku suite of protocols.\n\nWe are targeting `nwaku` as the main option for operator-run nodes.  \nSpecifically, we aim to provide through `nwaku`:\n\n1.  a lightweight and robust Waku v2 client.\nThis client must be first in line to support innovative and new Waku v2 protocols,\nbut configurable enough to serve the adaptive needs of various operators.\n2.  an easy-to-follow guide for operators to configure,\nset up and maintain their own nodes\n3.  a set of operator-focused tools to monitor and maintain a running node\n\n### Better conversational security layer guarantees\n\nConversational security guarantees in Waku v2 are currently designed around the Status application.\nDevelopers building their own applications on top of Waku would therefore\neither have to reimplement a set of tools similar to Status\nor build their own security solutions on the application layer above Waku.\nWe are working on [a set of features](https://github.com/vacp2p/research/issues/97) built into Waku\nthat will provide the general security properties Waku users may desire\nand do so in a modern and simple way.\nThis is useful for applications outside of Status that want similar security guarantees.\nAs a first step, we've already made good progress toward [integrating noise handshakes](https://forum.vac.dev/t/noise-handshakes-as-key-exchange-mechanism-for-waku2/130) as a key exchange mechanism in Waku v2.\n\n### Protocol incentivization\n\nWe want to design incentivization around our protocols to encourage desired behaviors in the Waku network,\nrewarding nodes providing costly services\nand punishing adversarial actions.\nThis will increase the overall security of the network\nand encourage operators to run their own Waku nodes.\nIn turn, the sustainability of Vac as an organization will be better guaranteed.\nAs such, protocol incentivization was a major focus in our recent [Vac Sustainability and Business Workshop](https://forum.vac.dev/t/vac-sustainability-and-business-workshop/).\nOur first step here is to finish integrating RLN relay into Waku\nwith blockchain interaction to manage members,\npunish spammers\nand reward spam detectors.\nAfter this, we want to design monetary incentivization for providers of `store`, `lightpush` and `filter` services.\nThis may also tie into a reputation mechanism for service nodes based on a network-wide consensus on service quality.\nA big challenge for protocol incentivization is doing it in a private fashion,\nso we can keep similar metadata protection guarantees as the Waku base layer.\nThis ties into our focus on [Zero Knowledge tech](https://forum.vac.dev/t/vac-3-zk/97).\n\n### Improved store capacity\n\nThe `nwaku` store currently serves as an efficient in-memory store for historical messages,\ndimensioned by the maximum number of messages the store node is willing to keep.\nThis makes the `nwaku` store appropriate for keeping history over a short term\nwithout any time-based guarantees,\nbut with the advantage of providing fast responses to history queries.\nSome applications, such as Status, require longer-term historical message storage\nwith time-based dimensioning\nto guarantee that messages will be stored for a specified minimum period.\nBecause of the relatively high cost of memory compared to disk space,\na higher capacity store, with time guarantees, should operate as a disk-only database of historical messages.\nThis is an ongoing effort.\n\n### Multipurpose discovery\n\nIn addition to [the three discovery methods](#4-peer-discovery) already implemented in `nwaku`,\nwe are working on improving discovery on at least three fronts:\n\n#### _Capability discovery:_\n\nWaku v2 nodes may be interested in peers with specific capabilities, for example:\n\n1. peers within a specific pubsub topic mesh,\n2. peers with **store** capability,\n3. **store** peers with x days of history for a specific content topic, etc.\n\nCapability discovery entails mechanisms by which such capabilities can be advertised and discovered/negotiated.\nOne major hurdle to overcome is the increased complexity of finding a node with specific capabilities within the larger network (a needle in a haystack).\nSee the [original problem statement](https://github.com/vacp2p/rfc/issues/429) for more.\n\n#### _Improvements in Discovery v5_\n\nOf the implemented discovery methods,\nDiscovery v5 best addresses our need for a decentralized and scalable discovery mechanism.\nWith the basic implementation done,\nthere are some improvements planned for Discovery v5,\nincluding methods to increase security such as merging with the Ethereum Discovery v5 network,\nintroducing explicit NAT traversal\nand utilizing [topic advertisement](https://github.com/ethereum/devp2p/blob/fa6428ada7385c13551873b2ae6ad2457c228eb8/discv5/discv5-theory.md#topic-advertisement).\nThe [Waku v2 Discovery v5 Roadmap](https://forum.vac.dev/t/waku-v2-discv5-roadmap-discussion/121) contains more details.\n\n#### _Generalized peer exchange_\n\n`nwaku` already implements [GossipSub peer exchange](https://github.com/libp2p/specs/blob/10712c55ab309086a52eec7d25f294df4fa96528/pubsub/gossipsub/gossipsub-v1.1.md#prune-backoff-and-peer-exchange).\nWe now need a general request-response mechanism outside of GossipSub\nby which a node may learn about other Waku v2 nodes\nby requesting and receiving a list of peers from a neighbor.\nThis could, for example, be a suitable way for resource-restricted devices to request a stronger peer\nto perform a random Discovery v5 lookup on their behalf\nor simply to be informed of a subset of the peers known to that neighbor.\nSee [this issue](https://github.com/vacp2p/rfc/issues/495) for more.\n\n---\n\nThis concludes a general outline of some of the main recent developments in the `nwaku` client\nand a summary of the current and future focus areas.\nMuch more is happening behind the scenes, of course,\nso for more information, or to join the conversation,\nfeel free to join our [Vac Discord](https://discord.gg/KNj3ctuZvZ) server\nor to check out the [`nwaku` repo on Github](https://github.com/status-im/nim-waku).\nYou can also view the changelog for past releases [here](https://github.com/status-im/nim-waku/releases).\n\n## References\n\n- [17/WAKU-RLN-RELAY](https://rfc.vac.dev/spec/17/)\n- [32/RLN](https://rfc.vac.dev/spec/32/)\n- [33/WAKU2-DISCV5](https://rfc.vac.dev/spec/33/)\n- [Capabilities advertising](https://github.com/vacp2p/rfc/issues/429)\n- [Configuring a domain name](https://github.com/status-im/nim-waku/tree/d2fccb5220144893f994a67f2cc26661247f101f/waku/v2#configuring-a-domain-name)\n- [Conversational security](https://github.com/vacp2p/research/issues/97)\n- [Discovery v5 Topic Advertisement](https://github.com/ethereum/devp2p/blob/fa6428ada7385c13551873b2ae6ad2457c228eb8/discv5/discv5-theory.md#topic-advertisement)\n- [EIP-1459](https://eips.ethereum.org/EIPS/eip-1459)\n- [GossipSub Peer Exchange](https://github.com/libp2p/specs/blob/10712c55ab309086a52eec7d25f294df4fa96528/pubsub/gossipsub/gossipsub-v1.1.md#prune-backoff-and-peer-exchange)\n- [go-waku](https://github.com/status-im/go-waku)\n- [js-waku](https://github.com/status-im/js-waku)\n- [`multiaddr` formats](https://github.com/multiformats/multiaddr/blob/b746a7d014e825221cc3aea6e57a92d78419990f/protocols.csv#L8-L11)\n- [nimbus-eth2](https://github.com/status-im/nimbus-eth2)\n- [nim-libp2p](https://github.com/status-im/nim-libp2p)\n- [nim-waku](https://github.com/status-im/nim-waku)\n- [nim-waku releases](https://github.com/status-im/nim-waku/releases)\n- [Node Discovery Protocol v5 - Theory](https://github.com/ethereum/devp2p/blob/fa6428ada7385c13551873b2ae6ad2457c228eb8/discv5/discv5-theory.md)\n- [Noise handshakes](https://forum.vac.dev/t/noise-handshakes-as-key-exchange-mechanism-for-waku2/130)\n- [RLN tutorial](https://github.com/status-im/nim-waku/blob/ee96705c7fbe4063b780ac43b7edee2f6c4e351b/docs/tutorial/rln-chat2-live-testnet.md)\n- [Vac \u003c3 ZK](https://forum.vac.dev/t/vac-3-zk/97)\n- [Vac About page](https://vac.dev/#about)\n- [Vac Research log](https://vac.dev/research-log/)\n- [Vac RFC site](https://rfc.vac.dev/)\n- [Vac Sustainability and Business Workshop](https://forum.vac.dev/t/vac-sustainability-and-business-workshop/)\n- [Waku Update](/waku-update)\n- [Waku v1 vs Waku v2: Bandwidth Comparison](/waku-v1-v2-bandwidth-comparison)\n- [Waku v2 Peer Exchange](https://github.com/vacp2p/rfc/issues/495)\n- [Waku v2 Discovery v5 Roadmap](https://forum.vac.dev/t/waku-v2-discv5-roadmap-discussion/121)\n- [What's the Plan for Waku v2?](/waku-v2-plan)\n","metadata":{"layout":"post","name":"Introducing nwaku","title":"Introducing nwaku","date":"2022-04-12T10:00:00.000Z","author":"hanno","published":true,"permalink":"/introducing-nwaku","categories":"research","summary":"Introducing nwaku, a Nim-based Waku v2 client, including a summary of recent developments and preview of current and future focus areas.","image":"/img/vac.png","discuss":"https://forum.vac.dev/"},"toc":[{"content":"Background","slug":"background","lvl":2,"i":0,"seen":0},{"content":"nim-waku_ is now known as nwaku_","slug":"nim-waku-is-now-known-as-nwaku","lvl":2,"i":1,"seen":0},{"content":"Improvements in stability and performance","slug":"improvements-in-stability-and-performance","lvl":2,"i":2,"seen":0},{"content":"Improvements in interoperability","slug":"improvements-in-interoperability","lvl":2,"i":3,"seen":0},{"content":"Peer discovery","slug":"peer-discovery","lvl":2,"i":4,"seen":0},{"content":"DNS-based discovery","slug":"dns-based-discovery","lvl":3,"i":5,"seen":0},{"content":"GossipSub peer exchange","slug":"gossip-sub-peer-exchange","lvl":3,"i":6,"seen":0},{"content":"Waku Node Discovery Protocol v5","slug":"waku-node-discovery-protocol-v5","lvl":3,"i":7,"seen":0},{"content":"Spam protection using RLN","slug":"spam-protection-using-rln","lvl":2,"i":8,"seen":0},{"content":"Future work","slug":"future-work","lvl":2,"i":9,"seen":0},{"content":"Reaching out to operators:","slug":"reaching-out-to-operators","lvl":3,"i":10,"seen":0},{"content":"Better conversational security layer guarantees","slug":"better-conversational-security-layer-guarantees","lvl":3,"i":11,"seen":0},{"content":"Protocol incentivization","slug":"protocol-incentivization","lvl":3,"i":12,"seen":0},{"content":"Improved store capacity","slug":"improved-store-capacity","lvl":3,"i":13,"seen":0},{"content":"Multipurpose discovery","slug":"multipurpose-discovery","lvl":3,"i":14,"seen":0},{"content":"Capability discovery:","slug":"capability-discovery","lvl":4,"i":15,"seen":0},{"content":"Improvements in Discovery v5","slug":"improvements-in-discovery-v5","lvl":4,"i":16,"seen":0},{"content":"Generalized peer exchange","slug":"generalized-peer-exchange","lvl":4,"i":17,"seen":0},{"content":"References","slug":"references","lvl":2,"i":18,"seen":0}]},"navProps":{"metadata":{"published":true,"title":"Introducing nwaku","layout":"post","name":"Introducing nwaku","date":"2022-04-12T10:00:00.000Z","author":"hanno","permalink":"/introducing-nwaku","categories":"research","summary":"Introducing nwaku, a Nim-based Waku v2 client, including a summary of recent developments and preview of current and future focus areas.","image":"img/vac.png","discuss":"https://forum.vac.dev/"},"navOrder":1649757600,"localPath":"research/2022-04-12-introducing-nwaku.md","path":["introducing-nwaku"],"children":[],"isDir":false},"routeParams":{"path":["introducing-nwaku"]}},"__N_SSG":true},"page":"/[[...path]]","query":{"path":["introducing-nwaku"]},"buildId":"ulkdS6VOmlR0pndRpqll2","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>